# Привет. Прочитай небольшой гайд по установке и тестированию ниже

## Как запустить

1. В каждом терминале/окне терминала, в котором вы работаете с приложением, поставьте указанную в файле .nmvrc версию Node.js с помощью команды `nvm use`.
2. Если вы работаете на MacOS, то на всякий случай, убедитесь в том, что в пути до папки с приложением нету пробелов. То есть путь до приложения должен иметь какой-то такой вид: /Users/Desktop/app и так далее. Причина - это баг в package.json: https://stackoverflow.com/questions/72806878/issue-installing-better-sqlite3-on-mac

3. Запустите команды в терминале:
```sh
# установите зависимости
npm ci

# соберите клиентский код приложения
npm run build
```

### Приложение успешно установлено!

## Как проверять

Несколько уточнений о самом проекте:
1. Из-за нестабильности самой Hermione я добавил пункт `retry: 1` в ее конфиге, чтобы все непрошедшие тесты она еще раз перезапускала. Связано это с тем, что иногда Hermione делает скриншоты обрезанными и перезапуск должен помочь. В GUI перезапуск не работает, поэтому в случае обрезанного скриншота его надо делать вручную.
2. Далее указаны команды как запускать определенный тип тестов (модульные или интеграционные) с багом или без:

### Запуск без багов

1. Модульные тесты

```sh
# запускаем модульные тесты
npm run test:unit
```

2. Интеграционные тесты

```sh
# запускаем само приложение, без которого интеграционные тесты работать не будет
npm start

# запускаем интеграционные тесты
npm run test:e2e
```

### Запуск с багом

1. Модульные тесты

```sh
# запускаем модульные тесты
eval "BUG_ID=X npm run test:unit"
```

2. Интеграционные тесты 

```sh
# запускаем само приложение, без которого интеграционные тесты работать не будет
eval "BUG_ID=X npm start"

# запускаем интеграционные тесты
npm run test:e2e
```